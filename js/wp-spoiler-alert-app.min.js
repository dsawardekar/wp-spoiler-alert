webpackJsonp([1],{0:function(e,t,n){var r=n(82),o=n(44),i=n(86),a=n(45).optionsStore;r(document).ready(function(){r(".wrap-static").remove(),o.renderComponent(i({options:a.getOptions()}),document.getElementById("wp-spoiler-alert-app"))})},44:function(e,t,n){e.exports=n(25)},45:function(e,t,n){n(83);var r=n(88).ArrowApi,o=n(87),i=n(89),a="wp_spoiler_alert",s=new o(a),u=s.getParams(),c=new r(u),l=new i(u,c);e.exports={pluginSlug:a,api:c,config:s,optionsStore:l}},82:function(e){e.exports=jQuery},83:function(){},84:function(e,t,n){var r=n(44),o=r.createClass({displayName:"Notice",getDefaultProps:function(){return{notice:{type:"",value:""}}},hasNotice:function(){return!!this.props.notice.type},getClassList:function(){return"updated "+this.props.notice.type},valueToMessages:function(e){var t=[];return valueType=typeof e,"string"===valueType?t.push(e):"object"===valueType?t.push.apply(t,this.fieldsToMessages(e)):"array"===valueType?t.push.apply(t,e):t.push(e instanceof Error?e.toString():"Unknown Error: "+e),t},fieldsToMessages:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t.push.apply(t,r)}return t},getMessages:function(){return this.hasNotice()?this.valueToMessages(this.props.notice.value):[]},render:function(){return this.hasNotice()?r.DOM.div({id:"message",className:this.getClassList()},i({messages:this.getMessages()})):r.DOM.div(null)}}),i=r.createClass({displayName:"MessageList",renderMessage:function(e,t){return r.DOM.p({key:t},r.DOM.strong(null,e))},render:function(){return r.DOM.div(null,this.props.messages.map(this.renderMessage))}});e.exports=o},85:function(e,t,n){var r=n(49),o=n(45).optionsStore,i=r.createClass({displayName:"OptionsForm",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return this.props.options},handleSubmit:function(e){e.preventDefault(),this.props.noticeChange("progress","Saving settings ..."),o.save(this.state).then(this.updateState).catch(this.showError)},handleReset:function(e){e.preventDefault();var t=confirm("Restore Defaults: Are you sure?");t&&(this.props.noticeChange("progress","Restoring defaults ..."),o.reset().then(this.updateState).catch(this.showError))},updateState:function(){this.setState(o.getOptions()),this.props.noticeChange("success","Settings saved successfully.")},showError:function(e){this.props.noticeChange("error",e)},render:function(){return r.DOM.form({onSubmit:this.handleSubmit},r.DOM.table({className:"form-table"},r.DOM.tbody(null,r.DOM.tr(null,r.DOM.th({scope:"row"},r.DOM.label({htmlFor:"max"},"Maximum Blur")),r.DOM.td(null,r.DOM.input({type:"number",id:"max",name:"max",valueLink:this.linkState("max")}))),r.DOM.tr(null,r.DOM.th({scope:"row"},r.DOM.label({htmlFor:"partial"},"Partial Blur")),r.DOM.td(null,r.DOM.input({type:"number",id:"partial",name:"partial",valueLink:this.linkState("partial")}))),r.DOM.tr(null,r.DOM.th({scope:"row"},r.DOM.label({htmlFor:"tooltip"},"Tooltip")),r.DOM.td(null,r.DOM.input({type:"text",id:"tooltip",name:"tooltip",valueLink:this.linkState("tooltip")}))),r.DOM.tr(null,r.DOM.th({scope:"row"},r.DOM.label({htmlFor:"custom"},"Custom Stylesheet")),r.DOM.td(null,r.DOM.input({type:"checkbox",id:"custom",name:"custom",checkedLink:this.linkState("custom")}))))),r.DOM.p({className:"submit"},r.DOM.input({name:"submit",className:"button button-primary",value:"Save Changes",type:"submit"}),"Â ",r.DOM.input({name:"reset",className:"button",value:"Restore Defaults",type:"submit",onClick:this.handleReset})))}});e.exports=i},86:function(e,t,n){var r=n(44),o=n(84),i=n(85),a=r.createClass({displayName:"OptionsPage",getInitialState:function(){return{notice:{type:"",value:""}}},onNotice:function(e,t){var n={type:e,value:t};this.setState({notice:n})},render:function(){return r.DOM.div(null,r.DOM.h2(null,"WP-Spoiler-Alert Settings"),r.DOM.div({id:"wp-spoiler-alert"},o({notice:this.state.notice}),i({options:this.props.options,noticeChange:this.onNotice})))}});e.exports=a},87:function(e){var t=function(e){this.configKey=e,this.load()};t.prototype={load:function(){this.params=window[this.configKey].options},getParam:function(e){return this.params[e]},getParams:function(){return this.params},translate:function(e){return this.params.hasOwnProperty(e)?this.params[e]:e}},e.exports=t},88:function(e,t,n){var r=n(82),o=n(46).Promise,i=function(e){e.then(this.onAjaxSuccess.bind(this)).fail(this.onAjaxFailure.bind(this))};i.prototype={handle:function(e,t){this.resolve=e,this.reject=t},onAjaxSuccess:function(e){"0"===e?this.reject("not_logged_in"):e.success?this.resolve(e.data):this.reject(e.data.error)},onAjaxFailure:function(e){var t;t="timeout"===e.statusText?"request_timeout":e.responseJSON?e.responseJSON.data.error:"unknown_response",this.reject(t)}};var a=function(e){this.config=e};a.prototype={urlFor:function(e,t){var n={};n.controller=e,n.operation=t,n.nonce=this.config.nonce;var o=this.config.apiEndpoint,i=r.param(n);return-1===o.indexOf("?")?o+"?"+i:o+"&"+i},paramsFor:function(e,t,n){return"object"!=typeof n&&(n={}),n.url=this.urlFor(e,t),"POST"===n.type&&n.hasOwnProperty("data")&&"string"!=typeof n.data&&(n.data=JSON.stringify(n.data)),n},request:function(e,t,n){n=this.paramsFor(e,t,n);var a=r.ajax(n),s=new i(a),u=s.handle.bind(s),c=new o(u);return c},all:function(e){var t={type:"GET"};return this.request(e,"all",t)},get:function(e,t){var n={type:"GET",data:t};return this.request(e,"get",n)},post:function(e,t){var n={type:"POST",data:t};return this.request(e,"post",n)},put:function(e,t){var n={type:"POST",data:t};return this.request(e,"put",n)},patch:function(e,t){var n={type:"POST",data:t};return this.request(e,"patch",n)},"delete":function(e,t){t||(t={});var n={type:"POST",data:t};return this.request(e,"delete",n)}},t.ArrowApi=a,t.PromiseHandler=i},89:function(e){var t=function(e,t){this.options=e,this.api=t};t.prototype={getOptions:function(){return this.options},save:function(e){var t=this.api.patch("options",e),n=this;return t.then(function(e){n.options=e})},reset:function(){var e=this.api.delete("options"),t=this;return e.then(function(e){t.options=e})}},e.exports=t}});
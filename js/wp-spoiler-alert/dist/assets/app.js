webpackJsonp([1],{0:function(e,t,n){var o=n(83),r=n(45),i=n(86),a=n(46).optionsStore;o(document).ready(function(){o(".wrap-static").remove(),r.renderComponent(i({options:a.getOptions()}),document.getElementById("wp-spoiler-alert-app"))})},45:function(e,t,n){e.exports=n(26)},46:function(e,t,n){var o=n(88).ArrowApi,r=n(87),i=n(89),a="wp_spoiler_alert_dist_assets_wp_spoiler_alert",s=new r(a),u=s.getParams(),c=new o(u),l=new i(u,c);e.exports={api:c,config:s,optionsStore:l}},83:function(e){e.exports=jQuery},84:function(e,t,n){var o=n(45),r=o.createClass({displayName:"Notice",getDefaultProps:function(){return{notice:{type:"",value:""}}},hasNotice:function(){return!!this.props.notice.type},getClassList:function(){return"updated "+this.props.type},valueToMessages:function(e){var t=[];return valueType=typeof e,"string"===valueType?t.push(e):"object"===valueType?t.push.apply(t,this.fieldsToMessages(e)):"array"===valueType?t.push.apply(t,e):t.push(e instanceof Error?e.toString():"Unknown Error: "+e),t},fieldsToMessages:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];t.push.apply(t,o)}return t},getMessages:function(){return this.hasNotice()?this.valueToMessages(this.props.notice.value):[]},render:function(){return this.hasNotice()?o.DOM.div({id:"message",className:this.getClassList()},i({messages:this.getMessages()})):o.DOM.div(null)}}),i=o.createClass({displayName:"MessageList",renderMessage:function(e,t){return o.DOM.p({key:t},o.DOM.strong(null,e))},render:function(){return o.DOM.div(null,this.props.messages.map(this.renderMessage))}});e.exports=r},85:function(e,t,n){var o=n(50),r=n(46).optionsStore,i=o.createClass({displayName:"OptionsForm",mixins:[o.addons.LinkedStateMixin],getInitialState:function(){return this.props.options},handleSubmit:function(e){e.preventDefault(),this.props.noticeChange("progress","Saving settings ..."),r.save(this.state).then(this.updateState).catch(this.showError)},handleReset:function(e){e.preventDefault(),this.props.noticeChange("progress","Restoring defaults ..."),r.reset().then(this.updateState).catch(this.showError)},updateState:function(){this.setState(r.getOptions()),this.props.noticeChange("success","Settings saved successfully.")},showError:function(e){this.props.noticeChange("error",e)},render:function(){return o.DOM.form({onSubmit:this.handleSubmit},o.DOM.table({className:"form-table"},o.DOM.tbody(null,o.DOM.tr(null,o.DOM.th({scope:"row"},o.DOM.label({htmlFor:"max"},"Maximum Blur")),o.DOM.td(null,o.DOM.input({type:"number",id:"max",name:"max",valueLink:this.linkState("max")}))),o.DOM.tr(null,o.DOM.th({scope:"row"},o.DOM.label({htmlFor:"partial"},"Partial Blur")),o.DOM.td(null,o.DOM.input({type:"number",id:"partial",name:"partial",valueLink:this.linkState("partial")}))),o.DOM.tr(null,o.DOM.th({scope:"row"},o.DOM.label({htmlFor:"tooltip"},"Tooltip")),o.DOM.td(null,o.DOM.input({type:"text",id:"tooltip",name:"tooltip",valueLink:this.linkState("tooltip")}))),o.DOM.tr(null,o.DOM.th({scope:"row"},o.DOM.label({htmlFor:"custom"},"Custom Stylesheet")),o.DOM.td(null,o.DOM.input({type:"checkbox",id:"custom",name:"custom",checkedLink:this.linkState("custom")}))))),o.DOM.p({className:"submit"},o.DOM.input({name:"submit",className:"button button-primary",value:"Save Changes",type:"submit"}),"Â ",o.DOM.input({name:"reset",className:"button",value:"Restore Defaults",type:"submit",onClick:this.handleReset})))}});e.exports=i},86:function(e,t,n){var o=n(45),r=n(84),i=n(85),a=o.createClass({displayName:"OptionsPage",getInitialState:function(){return{notice:{type:"",value:""}}},onNotice:function(e,t){var n={type:e,value:t};this.setState({notice:n})},render:function(){return o.DOM.div(null,o.DOM.h2(null,"WP-Spoiler-Alert Settings"),o.DOM.div({id:"wp-spoiler-alert"},r({notice:this.state.notice}),i({options:this.props.options,noticeChange:this.onNotice})))}});e.exports=a},87:function(e){var t=function(e){this.configKey=e,this.load()};t.prototype.load=function(){this.params=window[this.configKey],this.params.max=parseInt(this.params.max,10),this.params.partial=parseInt(this.params.partial,10),this.params.custom="1"===this.params.custom},t.prototype.getParam=function(e){return this.params[e]},t.prototype.getParams=function(){return this.params},e.exports=t},88:function(e,t,n){var o=n(83),r=n(47).Promise,i=function(e){e.then(this.onAjaxSuccess.bind(this)).fail(this.onAjaxFailure.bind(this))};i.prototype={handle:function(e,t){this.resolve=e,this.reject=t},onAjaxSuccess:function(e){"0"===e?this.reject("not_logged_in"):e.success?this.resolve(e.data):this.reject(e.data.error)},onAjaxFailure:function(e){var t;t="timeout"===e.statusText?"request_timeout":e.responseJSON?e.responseJSON.data.error:"unknown_response",this.reject(t)}};var a=function(e){this.config=e};a.prototype={urlFor:function(e,t){var n={};n.controller=e,n.operation=t,n.nonce=this.config.nonce;var r=this.config.apiEndpoint,i=o.param(n);return-1===r.indexOf("?")?r+"?"+i:r+"&"+i},paramsFor:function(e,t,n){return"object"!=typeof n&&(n={}),n.url=this.urlFor(e,t),"POST"===n.type&&n.hasOwnProperty("data")&&"string"!=typeof n.data&&(n.data=JSON.stringify(n.data)),n},request:function(e,t,n){n=this.paramsFor(e,t,n);var a=o.ajax(n),s=new i(a),u=s.handle.bind(s),c=new r(u);return c},all:function(e){var t={type:"GET"};return this.request(e,"all",t)},get:function(e,t){var n={type:"GET",data:t};return this.request(e,"get",n)},post:function(e,t){var n={type:"POST",data:t};return this.request(e,"post",n)},put:function(e,t){var n={type:"POST",data:t};return this.request(e,"put",n)},patch:function(e,t){var n={type:"POST",data:t};return this.request(e,"patch",n)},"delete":function(e,t){var n={type:"POST",data:t};return this.request(e,"delete",n)}},t.ArrowApi=a,t.PromiseHandler=i},89:function(e){var t=function(e,t){this.options=e,this.api=t};t.prototype.getOptions=function(){return this.options},t.prototype.save=function(e){var t=this.api.patch("options",e),n=this;return t.then(function(e){n.options=e})},t.prototype.reset=function(){var e=this.api.delete("options",{}),t=this;return e.then(function(e){t.options=e})},e.exports=t}});